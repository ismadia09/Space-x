<!--
  Generated template for the LaunchListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>

    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-title>Launches</ion-title>

    <ion-buttons end>
      <button ion-button (click)="sortingIt()">
        <ion-icon *ngIf="isAsc == true" name="ios-arrow-down"></ion-icon>
        <ion-icon *ngIf="isAsc == false" name="ios-arrow-up"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>

  <ion-searchbar [(ngModel)]="searchString" (search)="onSearch($event)" [showCancelButton]="true" (ionInput)="onInput($event)" (ionCancel)="onCancel($event)">
  </ion-searchbar>

   <div padding>
      <ion-segment [(ngModel)]="sortButtonName" (ionChange)="onSegmentChange()" >
        <ion-segment-button value="all">
          All
        </ion-segment-button>
      
        <ion-segment-button value="success">
          Success
        </ion-segment-button>
      
        <ion-segment-button value="fail">
          Fail
        </ion-segment-button>

      </ion-segment>
   </div>

</ion-header>


<ion-content class="contentDiv" >


  <!-- Next Launch -->

  <div *ngIf="isShowNext == true">
    <ion-card tappable *ngIf="nextLaunch">
    
      <ion-item *ngIf="nextLaunch.launch_year" (tap)="didClickLaunch(nextLaunch)">
        <ion-avatar item-right>
          <tbody>
            <tr>
              <td class="cellLaunchYearTitle">Launch Year</td>
            </tr>
            <tr>
              <td class="cellLaunchYear">{{ nextLaunch.launch_year }} </td>
            </tr>
          </tbody>
        </ion-avatar>
        <p class="missionName">{{ nextLaunch.mission_name}}</p>

      </ion-item>
    
    
    
      <ion-card-content (tap)="didClickLaunch(nextLaunch)">
        <p class="countDownTitle"> Coming Launch: </p>
    
        <p class="countDown"> {{ countDownNum }} </p>
    
        <p>{{ nextLaunch.details }}</p>
    
    
      </ion-card-content>
    
      <ion-list>
        <button ion-item (tap)="didClickLaunchSite(nextLaunch)" *ngIf="nextLaunch.launch_site">
          <ion-icon name="navigate" item-start></ion-icon>
          <p class="tableCellTitle">Site: </p>
          <p item-end class="tableCellData">{{ nextLaunch.launch_site.site_name }}</p>
    
        </button>
    
        <ion-item *ngIf="nextLaunch.rocket">
          <ion-icon name="paper-plane" item-start></ion-icon>
          <p class="tableCellTitle">Rocket: </p>
          <p item-end class="tableCellData">{{ nextLaunch.rocket.rocket_name }}</p>
        </ion-item>
    
        <ion-item>
          <button ion-button color="light" (tap)="didWantNotif()">Notify Me</button>
        </ion-item>
    
      </ion-list>
    
    
    
    </ion-card>
    <!-- End Next Launch -->
  </div>



<ion-card tappable *ngFor="let launch of launches "  >

    <ion-item>

      <ion-avatar item-right (tap)="didClickLaunch(launch)" >
        <tbody>
          <tr>
            <td class="cellLaunchYearTitle">Launch Year</td>
          </tr>
          <tr>
            <td class="cellLaunchYear">{{ launch.launch_year }} </td>
          </tr>
        </tbody>
      </ion-avatar>
      <p class="missionName">{{ launch.mission_name}}</p>

    </ion-item>

  <ion-card-content (tap)="didClickLaunch(launch)">
      
    <ion-badge *ngIf=" launch.launch_success == true " color="secondary">
        <p style="color: white">
          <b ion-text> Status :</b>
          <b>{{launch.launch_success}}</b>
        </p>
      </ion-badge>
      
      <ion-badge *ngIf=" launch.launch_success != true " color="orange">
        <p style="color: white">
          <b ion-text> Status :</b>
          <b>{{launch.launch_success}}</b>
        </p>
      </ion-badge>

      <br>
      <br>

    <p> {{ launch.details }}</p>

  </ion-card-content>

    <ion-list>
      <button ion-item (tap)="didClickLaunchSite(launch)" >
        <ion-icon name="navigate" item-start></ion-icon>
        <p class="tableCellTitle">Site: </p>
        <p item-end class="tableCellData">{{ launch.launch_site.site_name }}</p>

      </button>
  
      <ion-item >
        <ion-icon name="paper-plane" item-start></ion-icon>
         <p class="tableCellTitle" >Rocket: </p> 
        <p item-end class="tableCellData">{{ launch.rocket.rocket_name }}</p>
      </ion-item>
  
  
    </ion-list>

      <!-- <ion-item>
        <ion-icon name="logo" item-start></ion-icon>
        Flight Number
        <ion-badge item-end>{{launch.flight_number}}</ion-badge>
      </ion-item> -->

      <button ion-button icon-only clear *ngIf="launch.links.video_link" (click)="didClickVideo(launch)">
        <ion-icon name="videocam"></ion-icon>
        Watch video
      </button>

  </ion-card>



</ion-content>
